"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};define(function(n){function t(n,t,r){var e=E[r];return e(n)===e(t)}function r(n,t){return Gt(n)===Gt(t)&&cr(v(n),function(r){return Ft(n[r],t[r])})}function e(n,t){return n=Tt((1023&n).toString(2),"0",10),t=Tt((1023&t).toString(2),"0",10),(parseInt(n+t,2)+65536).toString(16)}function u(n){if(parseInt(n,16)<=65535)return[n];var t=parseInt(n,16)-65536,r=t>>10,e=1023&t;return r=(55296|r).toString(16).toUpperCase(),e=(56320|e).toString(16).toUpperCase(),[r,e]}function i(n,t,r){return n=It(n),G?G.call(n,t,r):-1!==n.indexOf(t,r)}function a(n,t,r,e){n=It(n),t=It(t),r=~~r;var u,i=n.length,a=e?Z:nt;return i>=r?n:a?a.call(n,t,r):(u=Math.ceil((r-i)/t.length),e?(Rt(t,u)+n).slice(-r):(n+Rt(t,u)).slice(0,r))}function o(n,t){for(null==n&&(n=""),n+="",t=~~t;n.length<t;)n+=n;return n.slice(0,t)}function c(n){return n=~~n,0>n?0:n}function l(){var n=!0;return Vt(D.apply(x,arguments),function(t){return kt(t)?void 0:(ft("warn",t,"the num is not a finite number"),n=!1)}),n}function f(){return l.apply(void 0,arguments)?Math.max.apply(Math,ar(arguments,function(n){return((""+n).split(".")[1]||"").length})):void 0}function s(n,t,r,e){return e<r.length?n+t+r.slice(0,e)+"."+r.slice(e):n+t+Wt(r,"0",e)}function p(n,t,r,e){return t.length>e?n+t.slice(0,-e)+"."+t.slice(-e)+r:n+"0."+Tt(t,"0",e)+r}function d(n,t){if(l(n)){if(n+="",t=~~t,0===t)return n;var r,e,u="";return n=n.split("."),r=n[0],e=n[1]||"","-"===r.charAt(0)&&(u="-",r=r.slice(1)),0>t?p(u,r,e,-t):s(u,r,e,t)}}function g(n,t){var r=n[0]+"",e=n[1]+"",u=(r.split(".")[1]||"").length,i=(e.split(".")[1]||"").length,a=t?+d(+r.replace(".","")*+e.replace(".",""),-(u+i)):+d(+r.replace(".","")/+e.replace(".",""),i-u);return n.splice(0,2,a),a}function v(n){return Yt(At(n)?rr(n):n)}function m(n,t,r,e,u){for(var i,a=v(n),o=~~u,c=a.length;c>o&&(i=a[o],t.call(r,n[i],i,n)!==!1||!e);o++);}function y(n,t){return lr(n,function(n){return cr(n,function(n,r){return n===t[r]})})}function h(n,t,r){if(tt){var e=!1;return m(n,Mt(t)?function(n){return Mt(n)?(e=!0,!1):void 0}:function(n){return n===t?(e=!0,!1):void 0},void 0,!0,r>=0?r:n.length+r),e}return tt.call(n,t,r)}function b(n,t,r){var e={key:-1,val:void 0};return Vt(n,function(n,r){return t.call(this,n,+r)?(e={key:r,val:n},!1):void 0},r),e}var S=n("./limit-dom"),w={},x=Array.prototype,A=Object.prototype,M=Function.prototype,k=String.prototype,E=window,N=(E.document,x.slice),O=x.splice,D=x.concat,F=x.unshift,_=x.push,j=A.toString,I=A.hasOwnProperty;w.slice=N;var C=Object.keys,R=Object.create,T=x.forEach,W=x.indexOf,B=x.lastIndexOf,H=x.map,P=x.filter,U=x.every,$=x.some,L=x.reduce,q=x.reduceRight,J=M.bind,z=k.trim,K=k.codePointAt,Y=String.fromCodePoint,G=k.includes,Q=k.startsWith,V=k.endsWith,X=k.repeat,Z=k.padStart,nt=k.padEnd,tt=x.includes,rt=x.find,et=x.findIndex,ut=x.fill,it=x.copyWithin,at=w.K=function(n){return n},ot=w.cb=function(n){return gt(n)?n:at},ct=w.O={},lt={log:"background:#333;margin-left:11px;padding-right:17px;",error:"background:#F00;padding-right:3px;",warn:"background:#F70;margin-left:11px;padding-right:10px;"},ft=w.log=function(){if(!w.logClosed){var n,t=N.call(arguments),r=t.shift(),e=console||ct,u=S.isChrome;gr(["error","log","warn"],r)||(t.unshift(r),r="error"),n=e[r]||at;try{u&&t.unshift(lt[r]+"color:#FFF;padding-left:3px;border-radius:3px;"),t.unshift((u?"%c":"")+"limitJS "+r+":"),n.apply(e,t)}catch(i){n("limitJS ",t)}}},st={toString:function(n){return ft("warn",n,"change into","'"+n+"'","limit.toString is called")},toArray:function(n){return ft("warn",n,"change into []","limit.toArray is called")},formatDate:function(n){return ft("warn","timestamp:",n,"date:",date,"limit.formatDate is called")},bind:function(){return ft("warn",fun,"type is not function, limit.bind is called")}},pt=w.isUndefined=function(n){return void 0===n};w.setDefault=function(){var n;return Vt(arguments,function(t){return n=t,pt(t)}),n};{var dt=(w.isDefined=function(n){return!pt(n)},w.isNull=function(n){return null===n}),gt=w.isFunction=function(n){return"function"==typeof n};w.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===j.call(n)}}"String,Number,Array,Date,RegExp,Error,Math".replace(/\w+/g,function(n){w["is"+n]=function(t){return j.call(t)==="[object "+n+"]"}});var vt=w.isNumber,mt=w.isArray,yt=w.isDate,ht=w.isMath,bt=w.isError,St=w.isRegExp,wt=w.isString,xt=w.isObject=function(n){return gt(n)||"object"===("undefined"==typeof n?"undefined":_typeof(n))&&!!n},At=(w.isArguments=function(n){return qt(n,"callee")},w.isArrayLike=function(n){return!!n&&vt(n.length)&&!gt(n)&&!Ot(n)}),Mt=w.isNaN=Number.isNaN||function(n){return vt(n)&&isNaN(n)},kt=w.isFinite=Number.isFinite||function(n){return vt(n)&&isFinite(n)},Et=w.isInteger=Number.isInteger||function(n){return kt(n)&&Math.floor(n)===n};w.isSafeInteger=Number.isSafeInteger||function(n){return Et(n)&&n>-9007199254740992&&9007199254740992>n};var Nt=w.isEmpty=function(n){return null==n?!0:0===Gt(n)};w.isElement=function(n){return!!n&&1===n.nodeType},w.isDocument=function(n){return!!n&&9===n.nodeType};var Ot=w.isWin=function(n){return!!n&&n.window===n&&n.self==n},Dt=["String","Number","Boolean"],Ft=w.isEqual=function(n,e){if(ft("log","limit.isEqual is called ","undefined"==typeof n?"undefined":_typeof(n),":",n,"undefined"==typeof e?"undefined":_typeof(e),":",e),tr(n,e))return!0;if(j.call(n)!==j.call(e))return!1;if(0==n&&0==e)return!1;var u;return(u=jt(n,Dt))?t(n,e,u):yt(n)?+n===+e:St(n)?""+n==""+e:gt(n)&&""+n!=""+e?!1:r(n,e)},_t=["String","Number","Boolean","Null","Undefined","RegExp","Date","Math","Error"],jt=w.isBase=function(n,t){!mt(t)&&(t=_t);var r="";return lr(t,function(t){var e=w["is"+t];return e&&e(n)&&(r=t)}),r};w.includes=function(n,t,r){return mt(n)?h(n,t,r):i(n,t,r)};{var It=w.toString=function(n){return wt(n)?n:(st.toString(n),""+n)},Ct=/^\s+|\s+$/g;w.trim=function(n){return n=arguments.length?n+"":"",z?z.call(n):n.replace(Ct,"")}}w.codePointAt=function(n,t){if(n=It(n),t=~~t,K){var r=n.charCodeAt(t);return r>=55296&&56319>=r?e(r,n.charCodeAt(++t)):r.toString(16)}return K.call(n,t).toString(16)},w.fromCodePoint=function(n){return isFinite(n)?Y?(n=ar(u(n.toString(16)),function(n){return"\\u"+n}).join(""),new Function('return "'+n+'"')()):Y.call(String,n):(ft("warn",n,"the code must be a number"),"")},w.startsWith=function(n,t,r){return n=It(n),Q?Q.call(n,t,r):(r=~~r,n.indexOf(t,r)===r)},w.endsWith=function(n,t,r){if(n=It(n),V)return V.call(n,t,r);r=3===arguments.length?~~r:n.length;var e=r-t.length;return n.lastIndexOf(t,e)===e};var Rt=w.repeat=function(n,t){if(n=It(n),t=c(t),X)return X.call(n,t);var r=new Array(t),e=[];return Array.prototype.push.apply(e,r),e.map(function(){return n}).join("")},Tt=w.padStart=function(n,t,r){return a(n,t,r,!0)},Wt=w.padEnd=function(n,t,r){return a(n,t,r,!1)},Bt=(w.random=function(n,t){n=~~n,t=~~t;var r=Math.max(n,t),e=Math.min(n,t);return Math.floor((r-e+1)*Math.random()+e)},/(\d{1,3})(?=(\d{3})+$)/g),Ht=/(\d{1,3})(?=(\d{3})+\.)/g,Pt=/,/g;w.thousandSeparator=function(n,t){return kt(n)?(vt(t)||(t=2),Ut(n,t).replace(t?Ht:Bt,"$1,")):(ft("warn","limit.thousandSeparator is called ","undefined"==typeof n?"undefined":_typeof(n),":",n),"")},w.unThousandSeparator=function(n){return wt(n)?+n.replace(Pt,""):(ft("warn","limit.unThousandSeparator is called ","undefined"==typeof n?"undefined":_typeof(n),":",n),0/0)};var Ut=w.toFixed=function(n,t){t=c(t);var n=d(n,t);return pt(n)?n:d(Math.round(n),-t)};w.plus=function(){var n=f.apply(void 0,arguments);if(!pt(n))return sr.call(void 0,arguments,function(t,r){return+d(+d(t,n)+ +d(r,n),-n)})},w.minus=function(){var n=f.apply(void 0,arguments);if(!pt(n))return sr.call(void 0,arguments,function(t,r){return+d(+d(t,n)-+d(r,n),-n)})};var $t=w.multiply=function(){if(l.apply(void 0,arguments)){var n=rr(arguments),t=g(n,!0);return n.length<=1?t:$t.apply(void 0,n)}},Lt=w.except=function(){if(l.apply(void 0,arguments)){var n=rr(arguments),t=g(n,!1);return Mt(t)?n[0]/n[1]:n.length<=1?t:Lt.apply(void 0,n)}},qt=w.has=function(n,t){return null!=n&&I.call(n,t)},Jt=function(){},zt=w.create=function(n){return null==n?{}:R?R(n):n.__proto__?{__proto__:n}:(Jt.prototype=n,new Jt)},Kt=w.forIn=function(n,t,r){if(null==n)return n;for(var e in n)t.call(r,n[e],e,n);return n},Yt=w.keys=function(n){if(null==n)return[];if(C)return C.call(Object,n);var t=[];return Kt(n,function(r,e){qt(n,e)&&t.push(e)}),t},Gt=w.size=function(n){return v(n).length},Qt=w.each=function(n,t,r){return t=ot(t),At(n)&&T?T.call(n,function(n,r){t.call(this,n,""+r)},r):m(n,t,r)},Vt=w.breakEach=function(n,t,r){return m(n,t,r,!0)},Xt=w.extend=function(n,t){function r(t,r){n[r]=t}return xt(n)?(t!==!0?Qt(N.call(arguments,1),function(n){Kt(n,r)}):Qt(N.call(arguments,2),function(n){Qt(n,r)}),n):n},Zt=(w.defaults=function(n,t){function r(t,r){pt(n[r])&&(n[r]=t)}return xt(n)?(t!==!0?Qt(N.call(arguments,1),function(n){Kt(n,r)}):Qt(N.call(arguments,2),function(n){Qt(n,r)}),n):n},w.clone=function(n){return jt(n)?nr(n):gt(n)?Xt(function(){return n.apply(this,arguments)},n):mt(n)?N.call(n):Xt({},n)},["String","Number","Boolean","Null","Undefined"]),nr=w.copy=function(n){var t;if(t=jt(n,Zt))return xt(n)?new E[t](n.valueOf()):n;if(ht(n))return n;if(St(n))return new RegExp(n.source,(n.global?"g":"")+(n.multiline?"m":"")+(n.ignoreCase?"i":""));if(yt(n))return new Date(n.getTime());if(bt(n))return new Error(n.message);var r={};return mt(n)&&(r=[]),gt(n)&&(r=function(){return n.apply(this,arguments)}),Kt(n,function(n,t){r[t]=nr(n)}),r};w.getObject=function(n){return Vt(N.call(arguments,1),function(t){try{n=n[t]}catch(r){return n=void 0,!1}}),n};var tr=w.is=Object.is||function(n,t){return Mt(n)&&Mt(t)?!0:0===n&&0===t?1/n===1/t:n===t},rr=w.toArray=function(n){return mt(n)?n:At(n)?N.call(n):(st.toArray(n),[])},er=w.getArray=function(n){switch(n=rr(n),n.length){case 0:return null;case 1:return n[0];default:return n}},ur=w.indexOf=function(n,t,r){if(Nt(n))return-1;if(At(n)&&(n=rr(n)),W&&W===n.indexOf)return W.apply(n,N.call(arguments,1));var e=mt(n),u=-1;return m(n,function(n,r){return n===t?(u=r,!1):void 0},void 0,!0,~~r),e?+u:u},ir=(w.lastIndexOf=function(n,t,r){if(n=rr(n),B)return B.apply(n,N.call(arguments,1));r=~~r;var e=n.length-1,u=ur(n.reverse(),t,3===arguments.length?e-r:r);return-1===u?-1:e-u},w.forEach=function(n,t,r){return n=rr(n),t=ot(t),Qt(n,function(r,e){t.call(this,r,+e,n)},r)}),ar=w.map=function(n,t,r){if(Nt(n))return n;if(At(n)&&(n=rr(n)),t=ot(t),H&&H===n.map)return H.call(n,t,r);var e=mt(n),u=e?[]:{};return Qt(n,function(r,e){u[e]=t.call(this,r,e,n)},r),u},or=w.filter=function(n,t,r){if(Nt(n))return n;if(At(n)&&(n=rr(n)),t=ot(t),P&&P===n.filter)return P.call(n,t,r);var e=mt(n),u=e?[]:{};return e?Qt(n,function(r,e){t.call(this,r,e,n)&&u.push(r)},r):Qt(n,function(r,e){t.call(this,r,e,n)&&(u[e]=r)}),u},cr=w.every=function(n,t,r){if(Nt(n))return!1;if(At(n)&&(n=rr(n)),t=ot(t),U&&U===n.every)return U.call(n,t,r);var e=!0,u=mt(n);return Vt(n,function(r,i){return t.call(this,r,u?+i:i,n)?void 0:e=!1},r),e},lr=w.some=function(n,t,r){if(Nt(n))return!1;if(At(n)&&(n=rr(n)),t=ot(t),$&&$===n.some)return $.call(n,t,r);var e=!1,u=mt(n);return Vt(n,function(r,i){return t.call(this,r,u?+i:i,n)?(e=!0,!1):void 0},r),e},fr=new TypeError("Reduce of empty array with no initial value"),sr=w.reduce=function(n,t,r){n=rr(n);var e=N.call(arguments,1);if(e[0]=t=ot(t),L)return L.apply(n,e);var u=e.length,i=0,a=1===u,o=a?n[i++]:r;if(a&&0===n.length)throw fr;return m(n,function(r,e){o=t.call(this,o,r,+e,n)},void 0,!1,i),o},pr=(w.reduceRight=function(n,t){n=rr(n);var r=N.call(arguments,1);if(r[0]=t=ot(t),q)return q.apply(n,r);var e=n.length-1;return r.unshift(n.reverse()),r[1]=function(n,r,u,i){return t(n,r,e-u,i)},sr.apply(void 0,r)},w.difference=function(n){n=rr(n);var t=D.apply(x,N.call(arguments,1));return or(n,function(n){return!gr(t,n)})});w.without=function(n){var t=pr.apply(void 0,arguments);return n.length=0,_.apply(n,t),n};var dr=(w.union=function(n,t){n=rr(n);var r;return t?or(n.sort(),function(n,t){return!(t&&r===n||(r=n,0))}):(r=[],or(n,function(n){return!gr(r,n)&&(r.push(n),!0)}))},w.flatten=function(){var n=[];return ir(arguments,function(t){_.apply(n,mt(t)?dr.apply(void 0,D.apply(x,t)):[t])}),n});w.whiteList=function(n){var t=D.apply(x,N.call(arguments,1));return Nt(t)?[]:or(n,function(n){return y(t,n)})},w.blackList=function(n){var t=D.apply(x,N.call(arguments,1));return Nt(t)?n:or(n,function(n){return!y(t,n)})};var gr=w.contains=function(n,t){var r=!1;return m(n,function(n){return tr(n,t)?(r=!0,!1):void 0},void 0,!0),r},vr=w.from=Array.from||function(n,t,r){var e=[];return t=ot(t),n&&n.length?(_.apply(e,N.call(n)),ar(e,t,r)):e};w.of=Array.of||function(){return N.call(arguments)},w.find=function(n,t,r){return n=rr(n),t=ot(t),rt?rt.call(n,t,r):b(n,t,r).val},w.findIndex=function(n,t,r){return n=rr(n),t=ot(t),et?rt.call(n,t,r):b(n,t,r).key},w.fill=function(n,t,r,e){if(n=rr(n),ut)return ut.call(n,t,r,e);var u=n.length;r=~~r,e=~~e,r=0>=r?u+r:r,e=0>=e?u+e:e,0>r&&(r=0),e>u&&(e=u);var i=e-r;if(i>0){var a=vr(new Array(i),function(){return t});F.call(a,r,i),O.apply(n,a)}return n},w.copyWithin=function(n,t,r,e){return n=rr(n),it?it.call(n,t,r,e):void 0};var mr=w.bind=function(n){function t(){if(this instanceof t){r.shift();var e=zt(n.prototype),u=n.apply(e,D.apply(r,arguments));return xt(u)?u:e}return n.apply(r.shift(),D.apply(r,arguments))}if(!gt(n))return st.bind(n),at;if(J)return J.apply(n,N.call(arguments,1));var r=N.call(arguments,1);return t.toString=function(){return"function () { [native code] }"},t},yr=w.delay=function(n,t){var r=N.call(arguments,2);return F.call(r,n,void 0),setTimeout(function(){mr.apply(void 0,r)()},t)},hr=w.defer=function(){var n=N.call(arguments);return n.splice(1,0,0),yr.apply(void 0,n)},br=(w.once=function(n){var t=N.call(arguments,2);return F.call(t,n,arguments[1]),function r(){return r.used?void 0:(r.used=!0,mr.apply(void 0,D.apply(t,arguments))())}},w.defered=function(){function n(){var u,i;(u=r.shift())?(t.status="pendding",hr(function(){try{var t=~~dt(e[0]);i=e.slice(t),e.length=0,e[1]=u[u.allback?"allback":t?"sucback":"errback"].apply(void 0,i),e[0]=null}catch(r){e[0]=r}n()})):t.status="end"}var t={},r=[],e=[null];return t.isDefered=!0,t.status="init",t.then=function(n,e){return r.push({sucback:n||at,errback:e||at}),t},t.always=function(n){return r.push({allback:n||at}),t},t.pass=function(r){return arguments.length&&(e[0]=r,_.apply(e,N.call(arguments,1))),n(),t},t});w.when=function(){function n(){if(--r<=0){var n=dt(er(u));n&&e.unshift(null),t.pass.apply(void 0,n?e:u)}}var t=br(),r=arguments.length,e=[],u=[];return ir(arguments,function(t,r){t.isDefered?(t.then(function(){e[r]=er(arguments)},function(){u[r]=er(arguments)}).always(n),"end"===t.status&&t.pass()):gt(t)?hr(function(){try{e[r]=t()}catch(i){u[r]=i}n()}):(e[r]=t,n())}),t};var Sr=/^(yyyy)(?:(.+)(MM))?(?:(.+)(dd))?(?:(.+)(HH))?(?:(.+)(mm))?(?:(.+)(ss))?(.+)?$/,wr=["getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds"];return w.formatDate=function(n,t){!vt(n)&&(n=+new Date),!wt(t)&&(t="yyyy-MM-dd HH:mm:ss");var r=new Date(n);return Mt(+r)?(st.formatDate(n,data),""):t.replace(Sr,function(){var n=[];return ir(N.call(arguments,1,-2),function(t,e){var u;t&&(e%2===0?(u=r[wr[e/2]](),"MM"===t&&u++,"yyyy"!==t&&(u=(o("0",2)+u).slice(-2)),n.push(u)):n.push(t))}),n.join("")})},w});