"use strict";function _classCallCheck(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},_createClass=function(){function n(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(r,t,e){return t&&n(r.prototype,t),e&&n(r,e),r}}(),_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(n){return"undefined"==typeof n?"undefined":_typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":"undefined"==typeof n?"undefined":_typeof2(n)};define(function(){var n=this,r=function Mr(n){return this instanceof Mr?void(this.__value__=[n]):new Mr(n)},t=window,e=t.document,i=(e.body,Object.prototype),u=Array.prototype,o=String.prototype,a=Function.prototype;r.limitFixed=!1,r.logClosed=!1;var f=Object.defineProperty,c=Object.is,l=Object.assign,s=Object.keys,m=Object.values,g=Object.entries,p=Object.getOwnPropertyNames,d=i.toString,h=i.hasOwnProperty,v=Array.from,y=Array.of,x=u.concat,w=u.push,b=u.slice,A=u.unshift,S=u.splice,N=u.forEach,_=u.map,F=u.filter,k=u.some,P=u.every,O=u.indexOf,j=u.lastIndexOf,L=u.reduce,C=u.reduceRight,I=u.find,M=u.findIndex,E=u.fill,T=u.copyWithin,D=String.fromCodePoint,V=o.trim,W=o.codePointAt,R=o.startsWith,H=o.endsWith,U=o.repeat,K=o.padStart,$=o.padEnd,B=a.bind,z=function(n){return n},Y=function(){for(var n=arguments.length,r=Array(n),t=0;n>t;t++)r[t]=arguments[t];return r},q=function(){},G={},J=function(){var n=arguments.length<=0||void 0===arguments[0]?G:arguments[0],r=arguments.length<=1||void 0===arguments[1]?"":arguments[1],t=arguments[2];return void 0===n[r]?t:n[r]},Q=function Er(n){var t=arguments.length<=1||void 0===arguments[1]?G:arguments[1],e=void 0,i=void 0,o=void 0,a=void 0,c=void 0,l=n.split(",");if(n=l.shift(),void 0===t.value?(e=J(t,"priority",Y),i=J(t,"fixed",z),o=J(t,"when",q),a=J(t,"format",Y),c=function(){var n=x.call(u,a.apply(void 0,arguments));return!r.limitFixed&&o.apply(void 0,_toConsumableArray(n))?e.apply(void 0,_toConsumableArray(n)):i.apply(void 0,_toConsumableArray(n))}):c=t.value,"function"==typeof c&&(c.toString=function(){return"function () { [native code] }"}),f)f(r,n,{value:c,writable:!1,enumerable:!0,configurable:!1});else{if(void 0!==r[n])throw new TypeError("Cannot redefine property: "+n);r[n]=c}return l.length?Er(l.join(","),t):c};Q("K",{value:z}),Q("F",{value:Y}),Q("getProp",{value:J});var X={log:"background:#333;margin-left:11px;padding-right:17px;",error:"background:#F00;padding-right:3px;",warn:"background:#F70;margin-left:11px;padding-right:10px;"},Z={toString:function(n){return r.log("warn",n,"change into","'"+n+"'")},toNumber:function(n){return r.log("warn",n,"change into","NaN")},toArray:function(n){return r.log("warn",n,"change into []")},finiteNum:function(n){return r.log("warn",n,"is not a finite Number")},formatDate:function(){return r.log("warn","timestamp:",timestamp,"date:",date,"limit.formatDate is called")},bind:function(){return r.log("warn",fun,"type is not function, limit.bind is called")}};Q("log",{value:function(){if(!r.logClosed){for(var n=arguments.length,e=Array(n),i=0;n>i;i++)e[i]=arguments[i];var u=e.shift(),o=console||G,a=void 0,f=t.chrome;r.contains(["error","log","warn"],u)||(e.unshift(u),u="error"),a=o[u]||z;try{f&&e.unshift(X[u]+"color:#FFF;padding-left:3px;border-radius:3px;"),e.unshift((f?"%c":"")+u+":"),a.apply(o,e)}catch(c){a("日志 ",e)}}}}),Q("T.T",{value:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return r.log.apply(r,["error"].concat(t))}}),Q("!!!",{value:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return r.log.apply(r,["warn"].concat(t))}}),Q("...",{value:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return r.log.apply(r,["log"].concat(t))}}),Q("isElement",{value:function(n){return!!n&&1===n.nodeType}}),Q("isDocument",{value:function(n){return!!n&&9===n.nodeType}}),Q("isWin",{value:function(n){return!!n&&n.window===n&&n.self==n}}),Q("isUndefined",{value:function(n){return void 0===n}}),Q("isDefined",{value:function(n){return!r.isUndefined(n)}}),Q("isNull",{value:function(n){return null===n}}),Q("isFunction",{value:function(n){return"function"==typeof n}}),Q("isBoolean",{value:function(n){return n===!0||n===!1||"[object Boolean]"===d.call(n)}}),"String,Number,Array,Date,RegExp,Error,Math".replace(/\w+/g,function(n){return Q("is"+n,{value:function(r){return d.call(r)==="[object "+n+"]"}})}),Q("isObject",{value:function(n){return r.isFunction(n)||"object"===("undefined"==typeof n?"undefined":_typeof(n))&&!!n}}),Q("isArguments",{value:function(n){return r.has(n,"callee")}}),Q("isArrayLike",{value:function(n){return!!n&&r.isNumber(n.length)&&!r.isFunction(n)&&!r.isWin(n)}}),Q("isNaN",{when:function(){return!!Number.isNaN},priority:function(){return Number.isNaN.apply(Number,arguments)},fixed:function(n){return r.isNumber(n)&&isNaN(n)}}),Q("isFinite",{when:function(){return!!Number.isFinite},priority:function(){return Number.isFinite.apply(Number,arguments)},fixed:function(n){return r.isNumber(n)&&isFinite(n)}}),Q("isInteger",{when:function(){return!!Number.isInteger},priority:function(){return Number.isInteger.apply(Number,arguments)},fixed:function(n){return r.isFinite(n)&&Math.floor(n)===n}}),Q("isSafeInteger",{when:function(){return!!Number.isSafeInteger},priority:function(){return Number.isSafeInteger.apply(Number,arguments)},fixed:function(n){return r.isInteger(n)&&n>-9007199254740992&&9007199254740992>n}}),Q("isEmpty",{value:function(n){return null==n||0===r.size(n)}});var nr=function(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;r>e;e++)t[e-1]=arguments[e];return null==n?[{}].concat(t):[n].concat(t)},rr=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return[r.toArray(n)].concat(e)},tr=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return[r.toString(n)].concat(e)},er=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return[r.toNumber(n)].concat(e)},ir=function(n,t){for(var e=arguments.length,i=Array(e>2?e-2:0),u=2;e>u;u++)i[u-2]=arguments[u];return nr.apply(void 0,[n,r.cb(t)].concat(i))},ur=function(n,t){for(var e=arguments.length,i=Array(e>2?e-2:0),u=2;e>u;u++)i[u-2]=arguments[u];return rr.apply(void 0,[n,r.cb(t)].concat(i))},or=function(n,r){return r=~~r,n=~~n,0>r&&(r=n+r,0>r&&(r=0)),r},ar=function(n){return n=~~n,0>n?0:n},fr=function(n,t){return[r.toString(n),ar(t)]},cr=function(n,t,e){return e=r.toString(e),[r.toString(n),ar(t),e?e:" "]},lr=function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return r.every(r.flatten(t),function(n){var t=r.isFinite(n);return t||Z.finiteNum(n),t})},sr=function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return r.flatten(t)},mr=[0,0,0];Q("getUid",{value:function(){for(var n=mr.length,r=void 0;n--;)if(r=mr[n],9===r&&(mr[n]=0),9>r)return mr[n]++,mr.join(".");return mr.unshift(1),mr.join(".")}}),Q("_loop",{value:function(n,t,e,i,u){for(var o=r._getLoopKey(n),a=void 0,f=~~u,c=o.length;c>f&&(a=o[f],t.call(e,n[a],a,n)!==!1||!i);f++);}}),Q("_getLoopKey",{value:function(n){return r.keys(r.isArrayLike(n)?r.toArray(n):n)}}),Q("has",{format:nr,fixed:function(n,r){return h.call(n,r)}}),Q("cb",{value:function(n){return r.isFunction(n)?n:z}}),Q("forin",{format:ir,fixed:function(n,r,t){for(var e in n)r.call(t,n[e],e,n)}}),Q("each",{format:ir,when:function(n){return isArrayLike(n)&&N},priority:function(r,t,e){return N.call(r,function(r,e){t.call(n,r,""+e)},e)},value:function(n,t,e){return r._loop(n,t,e)}}),Q("is",{when:function(){return!!c},priority:function(){return c.apply(void 0,arguments)},fixed:function(n,t){return r.isNaN(n)&&r.isNaN(t)?!0:0===n&&0===t?1/n===1/t:n===t}}),Q("assign",{when:function(){return!!l},priority:function(){return l.apply(void 0,arguments)},format:nr,fixed:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return r.each(e,function(t){r.each(t,function(r,t){n[t]=r})}),n}}),Q("values",{when:function(){return!!m},priority:function(){return m.apply(void 0,arguments)},format:nr,fixed:function(n){var t=[];return r.each(n,function(n){t.push(n)}),t}}),Q("entries",{when:function(){return!!g},priority:function(){return g.apply(void 0,arguments)},format:nr,fixed:function(n){var t=[];return r.each(n,function(n,r){t.push([r,n])}),t}});var gr=function(n){var t=[];return r.forin(n,function(e,i){return r.has(n,i)&&t.push(i)}),t};Q("keys",{when:function(){return!!s},priority:function(){return s.apply(void 0,arguments)},format:nr,fixed:gr}),Q("keysSuper",{when:function(){return!!p},priority:function(){return p.apply(void 0,arguments)},format:nr,fixed:gr}),Q("assignSuper",{format:nr,fixed:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return r.each(e,function(t){r.each(t,function(t,e){r.isDefined(t)&&(n[e]=t)})}),n}}),Q("extend",{format:nr,fixed:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return r.each(e,function(t){r.forin(t,function(r,t){n[t]=r})}),n}}),Q("extendSuper",{format:nr,fixed:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return r.each(e,function(t){r.forin(t,function(t,e){r.isDefined(t)&&(n[e]=t)})}),n}}),Q("getValueInObject",{format:nr,fixed:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return r.some(e,function(t){try{return n=n[t],!r.isObject(n)}catch(e){return n=void 0,!0}}),n}}),Q("size",{value:function(n){return r._getLoopKey(n).length}});var pr=function(n){for(var r=[],t=0;t<n.length;t++)r[t]=n[t];return r};Q("toArray",{value:function(n){if(r.isArray(n))return r.from(n);if(r.isArrayLike(n)){var t=void 0;try{t=b.call(n)}catch(e){t=pr(n)}return r.from(t)}return Z.toArray(n),[]}}),Q("contains",{value:function(n,t){return r.some(n,function(n){return r.is(n,t)})}}),Q("flatten",{value:function Tr(){for(var Tr=[],n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return r.forEach(t,function(n){w.apply(Tr,r.isArray(n)?r.flatten.apply(void 0,x.apply(u,n)):[n])}),Tr}}),Q("union",{format:rr,fixed:function(n){var t=[];return r.filter(n,function(n){return!r.contains(t,n)&&(t.push(n),!0)})}});var dr=function(n,t){return r.toString(n)<r.toString(t)?1:-1};Q("unionSuper",{format:rr,fixed:function(n){var t=void 0;return r.filter(n.slice().sort(dr),function(n,e){return!(e&&r.is(t,n)||(t=n,0))})}});var hr=function(n,t){return r.some(n,function(n){return r.every(n,function(n,e){return r.is(n,t[e])})})};Q("whiteList",{format:rr,fixed:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return e=r.flatten(e),r.filter(n,function(n){return hr(e,n)})}}),Q("blackList",{format:rr,fixed:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return e=r.flatten(e),r.filter(n,function(n){return!hr(e,n)})}}),Q("difference",{value:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return e=r.flatten(e),r.filter(n,function(n){return!r.contains(e,n)})}}),Q("remove",{format:nr,fixed:function(n,t,e){var i=r.indexOfSuper(n,t,e);if(-1!==i)try{return r.isArray(n)?n.splice(i,1):delete n[i],!0}catch(u){try{return n[i]=void 0,!0}catch(o){r["T.T"](u,o)}}return!1}}),Q("removeAll",{value:function(n,t){return r.remove(n,t)?r.removeAll(n,t):n}}),Q("first",{format:nr,when:function(n){return r.isArrayLike(n)},priority:function(n){return n[0]},fixed:function(n){var t=r.keys(n);return n[t[0]]}}),Q("last",{format:nr,when:function(n){return r.isArrayLike(n)},priority:function(n){return n[n.length-1]},fixed:function(n){var t=r.keys(n);return n[t[t.length-1]]}}),Q("forEach",{format:ir,when:function(n){return N&&n.forEach===N},priority:function(){return Function.call.apply(N,arguments)},fixed:function(n,t,e){return r.isArrayLike(n)?r.each(n,function(r,i){t.call(e,r,+i,n)},e):r.each(n,t,e)}}),Q("map",{format:ir,when:function(n){return _&&n.map===_},priority:function(){return Function.call.apply(_,arguments)},fixed:function(n,t,e){var i=r.isArrayLike(n)?[]:{};return r.each(n,function(r,e){i[e]=t.call(this,r,e,n)},e),i}}),Q("filter",{format:ir,when:function(n){return F&&n.filter===F},priority:function(){return Function.call.apply(F,arguments)},fixed:function(n,t,e){var i=r.isArrayLike(n),u=i?[]:{};return i?r.each(n,function(r,e){t.call(this,r,e,n)&&u.push(r)},e):r.each(n,function(r,e){t.call(this,r,e,n)&&(u[e]=r)}),u}}),Q("some",{format:ir,when:function(n){return k&&n.some===k},priority:function(){return Function.call.apply(k,arguments)},fixed:function(n,t,e){var i=!1;return r.isArrayLike(n)?r._loop(n,function(r,u){return t.call(e,r,+u,n)?(i=!0,!1):void 0},void 0,!0):r._loop(n,function(r,u){return t.call(e,r,u,n)?(i=!0,!1):void 0},void 0,!0),i}}),Q("every",{format:ir,when:function(n){return P&&n.every===P},priority:function(){return Function.call.apply(P,arguments)},fixed:function(n,t,e){var i=!0;return r.isArrayLike(n)?r._loop(n,function(r,u){return t.call(e,r,+u,n)?void 0:i=!1},void 0,!0):r._loop(n,function(r,u){return t.call(e,r,u,n)?void 0:i=!1},void 0,!0),i}}),Q("indexOf",{format:nr,when:function(n){return O&&n.indexOf===O},priority:function(){return Function.call.apply(O,arguments)},fixed:function(n,t,e){var i=-1;return r._loop(n,function(n,r){return n===t?(i=r,!1):void 0},void 0,!0,or(n.length,e)),r.isArrayLike(n)?+i:i}}),Q("indexOfSuper",{format:nr,fixed:function(n,t,e){var i=-1;return r._loop(n,function(n,e){return r.is(n,t)?(i=e,!1):void 0},void 0,!0,or(n.length,e)),r.isArrayLike(n)?+i:i}}),Q("lastIndexOf",{format:rr,when:function(n){return j&&n.lastIndexOf===j},priority:function(){return Function.call.apply(j,arguments)},fixed:function(n,t,e){e=~~e;var i=n.length-1,u=r.indexOf(n.reverse(),t,3===arguments.length?i-e:e);return-1===u?-1:i-u}});var vr=new TypeError("Reduce of empty array with no initial value");Q("reduce",{format:ur,when:function(n){return L&&n.reduce===L},priority:function(){return Function.call.apply(L,arguments)},fixed:function(n,t,e){var i=arguments.length,u=0,o=2===i,a=o?n[u++]:e;if(o&&0===n.length)throw vr;return r._loop(n,function(r,e){a=t.call(this,a,r,+e,n)},void 0,!1,u),a}}),Q("reduceRight",{format:ur,when:function(n){return C&&n.reduceRight===C},priority:function(){return Function.call.apply(C,arguments)},fixed:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];var i=t[0].length-1,u=t[1];return t[0].reverse(),t[1]=function(n,r,t,e){return u(n,r,i-t,e)},r.reduce.apply(r,t)}}),Q("from",{format:ir,when:function(){return!!v},priority:function(){return v.apply(void 0,arguments)},fixed:function(n,t,e){var i=[];return n&&n.length?(w.apply(i,r.toArray(n)),r.map(i,t,e)):i}}),Q("of",{when:function(){return!!y},priority:function(){return y.apply(void 0,arguments)},fixed:function(){for(var n=arguments.length,r=Array(n),t=0;n>t;t++)r[t]=arguments[t];return b.call(r)}}),Q("find",{format:ir,when:function(n){return I&&n.find===I},priority:function(){return Function.call.apply(I,arguments)},fixed:function(n,t){var e=void 0;return r.some(n,function(n,r,i){return t(n,r,i)?(e=n,!0):void 0}),e}}),Q("findIndex",{format:ir,when:function(n){return M&&n.findIndex===M},priority:function(){return Function.call.apply(M,arguments)},fixed:function(n,t){var e=-1;return r.some(n,function(n,r,i){return t(n,r,i)?(e=r,!0):void 0}),e}}),Q("fill",{format:rr,when:function(n){return E&&n.fill===E},priority:function(){return Function.call.apply(E,arguments)},fixed:function(n,t,e,i){var u=n.length;e=~~e,i=~~i,e=0>e?u+e:e,i=0>=i?u+i:i,0>e&&(e=0),i>u&&(i=u);var o=i-e;if(o>0){var a=r.from(new Array(o),function(){return t});A.call(a,e,o),S.apply(n,a)}return n}}),Q("includes",{when:function(n){return!!n.includes},priority:function(n,r,t){return n.includes(r,t)},fixed:function(n,t,e){if(r.isString(n))return-1!==n.indexOf(t,e);if(r.isNaN(t)){var i=!1;return r._loop(n,function(n){return r.isNaN(n)?(i=!0,!1):void 0},void 0,!0,or(n.length,e)),i}return-1!==r.indexOf(n,t,e)}}),Q("copyWithin",{format:rr,when:function(n){return T&&n.copyWithin===T},priority:function(){return Function.call.apply(T,arguments)},fixed:function(n,r,t,e){var i=n.slice(t,e);return i.unshift(r,i.length),S.apply(n,i),n}});var yr=function(){function n(){var t=this;if(_classCallCheck(this,n),this.PromiseStatus="pedding",this.PromiseValue=void 0,this.Stack=[],r.isFunction(arguments.length<=0?void 0:arguments[0])){this.promiseList=[];var e=arguments.length<=0?void 0:arguments[0],i=function(n){r.each([t].concat(t.promiseList),function(r){"pedding"===r.PromiseStatus&&(r.PromiseStatus="resolved",r.PromiseValue=n,r._clean())})},u=function(n){r.each([t].concat(t.promiseList),function(r){"pedding"===r.PromiseStatus&&(r.PromiseStatus="rejected",r.PromiseValue=n,r._clean())}),setTimeout(function(){if(!t.promiseList.length)throw"(in promise) "+n},0)};try{e(i,u)}catch(o){this.PromiseStatus="rejected",this.PromiseValue=o}}else this.PromiseStatus=arguments.length<=0?void 0:arguments[0],this.PromiseValue=arguments.length<=1?void 0:arguments[1]}return _createClass(n,[{key:"then",value:function(t,e){t=r.cb(t),e=r.cb(e);var i=this;if(i.promiseList){var u=i;i=new n(i.PromiseStatus,i.PromiseValue),u.promiseList.push(i)}return i.Stack.push({suc:t,err:e}),"pedding"===i.PromiseStatus||i.cleanStatus||i._clean(),i}},{key:"Catch",value:function(n){return this.then(null,n)}},{key:"_clean",value:function(){var n=this,r=n.Stack.shift();return n.cleanStatus="init",r?setTimeout(function(){try{switch(n.PromiseStatus){case"resolved":n.PromiseValue=r.suc(n.PromiseValue);break;case"rejected":n.PromiseValue=r.err(n.PromiseValue)}n.PromiseStatus="resolved"}catch(t){n.PromiseStatus="rejected",n.PromiseValue=t,n.Stack.length||setTimeout(function(){throw"(in promise) "+t},0)}n._clean()},0):delete n.cleanStatus,n}}],[{key:"all",value:function(t){function e(n,r){o[r]=n,--i||u(o)}var i=t.length,u=void 0,o=[];return new n(function(n,i){u=n,r.each(t,function(n,r){n.PromiseStatus?n.then(function(n){e(n,r)},function(n){i(n)}):e(n,r)})})}},{key:"race",value:function(t){return new n(function(e,i){r.each(t,function(r){n.resolve(r).then(function(n){return e(n)},function(n){return i(n)})})})}},{key:"resolve",value:function(r){return new n(r&&r.then?function(n,t){r.then(n,t)}:function(n){n(r)})}},{key:"reject",value:function(r){return new n(function(n,t){t(r)})}}]),n}();t.Promise&&(Promise.prototype.Catch=function(n){return this.then(null,n)}),Q("promise",{when:function(){return!!t.Promise},priority:function(){return Promise},fixed:function(){return yr}}),Q("bind",{format:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return[r.cb(n)].concat(e)},when:function(n){return B&&n.bind===B},priority:function(){function n(){for(var n=arguments.length,r=Array(n),e=0;n>e;e++)r[e]=arguments[e];return Function.call.apply(B,[].concat(t,r))()}for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return n.toString=function(){return"function () { [native code] }"},n},fixed:function(n){function r(){for(var r=arguments.length,t=Array(r),i=0;r>i;i++)t[i]=arguments[i];return Function.call.apply(n,[].concat(e,t))}for(var t=arguments.length,e=Array(t>1?t-1:0),i=1;t>i;i++)e[i-1]=arguments[i];return r.toString=function(){return"function () { [native code] }"},r}}),Q("compose",{value:function(){for(var n=arguments.length,r=Array(n),t=0;n>t;t++)r[t]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];for(var i=t,u=r.length-1;u>=0;u--)i=[].concat(r[u].apply(this,i));return i.length<=1?i[0]:i}}}),Q("toString",{value:function(n){return null==n?"":r.isString(n)?n:(r.isObject(n)&&Z.toString(n),r.is(n,-0)?"-0":""+n)}});var xr=/^\s+|\s+$/g;Q("trim",{format:tr,when:function(n){return V&&n.trim===V},priority:function(){return Function.call.apply(V,arguments)},fixed:function(n){return n.replace(xr,"")}});var wr=function(n,t){return n=r.padStart((1023&n).toString(2),10,"0"),t=r.padStart((1023&t).toString(2),10,"0"),parseInt(n+t,2)+65536};Q("codePointAt",{format:fr,when:function(n){return W&&n.codePointAt===W},priority:function(){return Function.call.apply(W,arguments)},fixed:function(n,r){var t=n.charCodeAt(r);return t>=55296&&56319>=t?wr(t,n.charCodeAt(++r)):t}});var br=function(n){if(parseInt(n,16)<=65535)return[n];var r=parseInt(n,16)-65536,t=r>>10,e=1023&r;return t=(55296|t).toString(16).toUpperCase(),e=(56320|e).toString(16).toUpperCase(),[t,e]};Q("fromCodePoint",{format:er,when:function(){return!!D},priority:function(n){return D(n)},fixed:function(n){if(r.isNaN(n))throw new RangeError("Invalid code point NaN");if(0>n||n>1114111)throw new RangeError("Invalid code point "+n);return n=r.map(br(n.toString(16)),function(n){return"\\u"+r.padStart(n,4,"0")}).join(""),new Function('return "'+n+'"')()}}),Q("repeat",{format:fr,when:function(n){return U&&n.repeat===U},priority:function(){return Function.call.apply(U,arguments)},fixed:function(n,t){return r.from(new Array(t),function(){return n}).join("")}}),Q("padStart",{format:cr,when:function(n){return!1},priority:function(){return Function.call.apply(K,arguments)},fixed:function(n,t,e){var i=n.length,u=void 0;return i>=t?n:(u=Math.ceil((t-i)/e.length),(r.repeat(e,u)+n).slice(-t))}}),Q("padEnd",{format:cr,when:function(n){return!1},priority:function(){return Function.call.apply($,arguments)},fixed:function(n,t,e){var i=n.length,u=void 0;return i>=t?n:(u=Math.ceil((t-i)/e.length),(n+r.repeat(e,u)).slice(0,t))}}),Q("startsWith",{format:tr,when:function(n){return R&&n.startsWith===R},priority:function(){return Function.call.apply(R,arguments)},fixed:function(n,r,t){var e=n.indexOf(r,t);return-1!==e&&e===t}}),Q("endsWith",{format:tr,when:function(n){return H&&n.endsWith===H},priority:function(){return Function.call.apply(H,arguments)},fixed:function(n,r,t){t=3===arguments.length?~~t:n.length;var e=t-r.length,i=n.lastIndexOf(r,e);return-1!==i&&n.lastIndexOf(r,e)===e}}),Q("toNumber",{value:function(n){return null==n?0:r.isNumber(n)?n:r.isDate(n)||r.isBoolean(n)?+n:r.isString(n)&&r.isNumber(+n)?+n:(Z.toNumber(n),0/0)}}),Q("random",{value:function(n,r){n=~~n,r=~~r;var t=Math.max(n,r),e=Math.min(n,r);return Math.floor((t-e+1)*Math.random()+e)}});var Ar=/(\d{1,3})(?=(\d{3})+$)/g,Sr=/,/g;Q("thousandSeparator",{format:er,fixed:function(n){var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1];return t=ar(t),lr(n)?(n=r.toFixed(n,t),n=n.split("."),n[0]=n[0].replace(Ar,"$1,"),n.join(".")):""}}),Q("unThousandSeparator",{value:function(n){return r.toNumber(n.replace(Sr,""))}});var Nr=function(n,t,e,i){return i<e.length?n+t+e.slice(0,i)+"."+e.slice(i):n+t+r.padEnd(e,i,"0")},_r=function(n,t,e,i){return t.length>i?n+t.slice(0,-i)+"."+t.slice(-i)+e:n+"0."+r.padStart(t,i,"0")+e},Fr=function(n,t){if(n=r.toNumber(n),!lr(n))return n;if(n=r.toString(n),t=~~t,0===t)return n;var e=void 0,i=void 0,u="";return n=n.split("."),e=n[0],i=n[1]||"","-"===e.charAt(0)&&(u="-",e=e.slice(1)),0>t?_r(u,e,i,-t):Nr(u,e,i,t)};Q("toFixed",{value:function(n,r){return r=ar(r),Fr(Math.round(Fr(n,r)),-r)}});var kr=function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return lr(t)?Math.max.apply(Math,r.map(t,function(n){return((""+n).split(".")[1]||"").length})):null};Q("plus,+",{format:sr,fixed:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];var i=kr(t);return r.isNull(i)?0/0:r.reduce(t,function(n,r){return+Fr(+Fr(n,i)+ +Fr(r,i),-i)})}}),Q("minus,-",{format:sr,fixed:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];var i=kr(t);return r.isNull(i)?0/0:r.reduce(t,function(n,r){return+Fr(+Fr(n,i)-+Fr(r,i),-i)})}});var Pr=function(n,t){var e=r.toString(n[0]),i=r.toString(n[1]),u=(e.split(".")[1]||"").length,o=(i.split(".")[1]||"").length,a=t?+Fr(+e.replace(".","")*+i.replace(".",""),-(u+o)):+Fr(+e.replace(".","")/+i.replace(".",""),o-u);return n.splice(0,2,a),a};Q("multiply,*",{format:sr,fixed:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];if(!lr(t))return 0/0;var i=Pr(t,!0);return t.length<=1?i:r["*"](t)}}),Q("except,/",{format:sr,fixed:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];if(!lr(t))return 0/0;var i=Pr(t,!1);return t.length<=1?i:r["/"](t)}});var Or=/\(([^()]*)\)/,jr=/(-?\d+(?:\.\d+)?)(?:\s*)([\*\/])(?:\s*)(-?\d+(?:\.\d+)?)(?:\s*)/,Lr=/^(?:\s*)(-?\d+(?:\.\d+)?)(?:\s*)([\+\-])(?:\s*)(-?\d+(?:\.\d+)?)(?:\s*)/;Q("express,?",{value:function(n){return jr.test(n)?r.express(n.replace(jr,function(n,t,e,i){return r[e](+t,+i)})):Or.test(n)?r.express(n.replace(Or,function(n,t){return r.express(t)})):Lr.test(n)?r.express(n.replace(Lr,function(n,t,e,i){return r[e](+t,+i)})):r.toNumber(n)}});var Cr=/^(yyyy)?(?:(.*)(MM))?(?:(.*)(dd))?(?:(.*)(HH))?(?:(.*)(mm))?(?:(.*)(ss))?(.*)?$/,Ir=["getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds"];return Q("formatDate",{value:function(){var n=arguments.length<=0||void 0===arguments[0]?(new Date).getTime():arguments[0],t=arguments.length<=1||void 0===arguments[1]?"yyyy-MM-dd HH:mm:ss":arguments[1];return n=new Date(n),t=r.toString(t),r.isNaN(+n)||!Cr.test(t)?"":t.replace(Cr,function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];var u=[];return r.each(b.call(e,1,-2),function(t,e){var i=void 0;t&&(e%2===0?(i=n[Ir[e/2]](),"MM"===t&&i++,"yyyy"!==t&&(i=r.padStart(i,2,"0")),u.push(i)):u.push(t))}),u.join("")})}}),r.each(r,function(n,t){r.prototype[t]=r.isFunction(n)?function(){for(var n=arguments.length,e=Array(n),i=0;n>i;i++)e[i]=arguments[i];return this.__value__.push(r[t].apply(r,[r.last(this.__value__)].concat(e))),this}:n}),r.assign(r.prototype,{end:function(){return this.__value__.pop(),this},valueOf:function(){return r.last(this.__value__)}}),r});