{"version":3,"sources":["webpack:///webpack/bootstrap f2cabd4fab19d0158eee","webpack:///external \"jQuery\"?0cb8*****","webpack:///external \"limit\"?1d95******","webpack:///./src/js/modules/color/index.js?6029","webpack:///./~/css-loader/lib/css-base.js?da04*","webpack:///./~/style-loader/addStyles.js?b980*","webpack:///./src/js/bus/html/limitSound/main.js","webpack:///./src/js/bus/html/limitSound/style.less?4da7","webpack:///./src/js/bus/html/limitSound/style.less","webpack:///./src/js/bus/html/limitSound/drawCanvas.js","webpack:///./src/js/bus/html/limitSound/audioBuffer.js"],"names":["limit","require","Rainbow","config","props","list","totle","state","me","assign","parseList","rev","leg","length","range","Math","ceil","forEach","val","key","next","push","Array","prototype","apply","getColorRange","from","to","dif","k","floor","module","exports","toString","result","i","item","join","modules","mediaQuery","alreadyImportedModules","id","$","DrawCanvas","AudioBuffer","DC","rotate","RB","console","log","count","onAnalyser","arr","clearRect","theKey","shodow","drawLine","last","drawArc","element","radius","arcColor","canvas","context","initElement","initCanvas","document","body","createElement","getContext","appendChild","width","clientWidth","height","clientHeight","centerX","centerY","beginPath","arc","getRadianByAngle","closePath","strokeStyle","stroke","angle","color","moveTo","compute","lineTo","x","cos","y","sin","PI","url","onLoad","K","onError","onProgress","AC","audioBuffer","getAudioContext","getAudio","then","buffer","getRealBuffer","bindAudioWithBuffer","Promise","resolve","reject","AJAX","XMLHttpRequest","open","responseType","onprogress","e","total","getResponseHeader","loaded","timeStamp","toFixed","onload","target","response","onerror","send","window","AudioContext","analyser","createAnalyser","audioBufferSouceNode","createBufferSource","decodeAudioData","CA","creatAnalyser","connect","destination","loop","start","array","Uint8Array","frequencyBinCount","getByteFrequencyData","requestAnimationFrame","bind"],"mappings":"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CA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;A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","file":"js/bus/html/limitSound/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f2cabd4fab19d0158eee\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 3\n ** module chunks = 1 2 3 4 5 6 8 10 11 13 14\n **/","module.exports = limit;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"limit\"\n ** module id = 4\n ** module chunks = 1 2 3 4 6 7 8 9 10 11 12 13 14 15\n **/","\"use strict\";\n\n// 依赖\nconst limit = require('limit');\n\nclass Rainbow {\n\tprops = {\n\t\tlist: [\n\t\t\t[255, 0, 0] //红\n\t\t\t,[255, 122, 0] //橙\n\t\t\t,[255, 255, 0] //黄\n\t\t\t,[0, 255, 0] //绿\n\t\t\t,[0, 255, 255] //青\n\t\t\t,[0, 0, 255] //蓝\n\t\t\t,[255, 0, 255] //紫\n\t\t],\n\t\ttotle: 50\n\t}\n\tstate = {}\n\tconstructor(config){\n\t\tlet me = this;\n\t\tlimit.assign(me.state, me.props, config);\n\t\treturn me.parseList();\n\t}\n\tparseList(){\n\t\tlet me = this;\n\t\tlet state = me.state;\n\t\tlet list = state.list;\n\t\tlet rev = [];\n\t\tlet leg = list.length;\n\t\tlet range = Math.ceil( (state.totle - leg) / (leg - 1) + 2 );\n\t\tlist.forEach((val, key) => {\n\t\t\tlet next = list[++key];\n\t\t\tif( next ){\n\t\t\t\trev.push(val);\n\t\t\t\tArray.prototype.push.apply( rev, me.getColorRange( range, val, next) );\n\t\t\t}else{\n\t\t\t\trev.push(val);\n\t\t\t};\n\t\t});\t\treturn rev;\n\t}\n\tgetColorRange(range = 10, from = [255, 0, 0], to = [0, 255, 0]){\n\t\trange--;\n\t\tlet leg = from.length;\n\t\tlet dif = limit.from(new Array(leg), (val, key) => {\n\t\t\treturn (from[key] - to[key]) / range ;\n\t\t});\n\t\treturn limit.from(new Array(--range), (val, key) => {\n\t\t\tkey++;\n\t\t\treturn limit.from(new Array(leg), (val, k) => {\n\t\t\t\treturn Math.floor( from[k] - dif[k] * key );\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = Rainbow;\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/modules/color/index.js\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/css-loader/lib/css-base.js\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 19\n ** module chunks = 5 7 8 12 13 14 15\n **/","\"use strict\";\n\n// 样式\nimport './style.less';\n\n// 依赖\nconst $ = require('$');\nconst limit = require('limit');\n\n// 颜色类\nconst Rainbow = require('modules/color/index');\n// 画图类\nconst DrawCanvas = require('./drawCanvas');\nconst AudioBuffer = require('./audioBuffer');\n\nlet DC = new DrawCanvas({rotate: -90});\nlet RB = new Rainbow({totle: 360});\nconsole.log(RB);\n// new AudioBuffer({\n// \tonAnalyser(arr){\n// \t\tDC.clearRect();\n// \t\tDC.drawArc();\n// \t\tarr.forEach((val, key) => {\n// \t\t\tkey = key/2;\n// \t\t\tDC.drawLine(key, val/10)\n// \t\t});\n// \t}\n// });\n\n\n\nnew AudioBuffer({\n\tcount: 360,\n\tonAnalyser(arr){\n\t\tDC.clearRect();\n\t\tarr.forEach((val, key) => {\n\t\t\tlet theKey = key/2;\n\t\t\tlet shodow = 360 - theKey;\n\t\t\tDC.drawLine(theKey, val/10, `rgb(${RB[key].join(',')})`);\n\t\t\tDC.drawLine(shodow, val/10);\n\t\t});\n\t\tlet last = arr.length - 1;\n\t\tDC.drawLine(180, arr[last]/10, `rgb(${RB[last].join(',')})`);\n\t\tDC.drawArc();\n\t}\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/bus/html/limitSound/main.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../../node_modules/css-loader/index.js!./../../../../../node_modules/less-loader/index.js!./style.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../../node_modules/css-loader/index.js!./../../../../../node_modules/less-loader/index.js!./style.less\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../../node_modules/css-loader/index.js!./../../../../../node_modules/less-loader/index.js!./style.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/bus/html/limitSound/style.less\n ** module id = 32\n ** module chunks = 8\n **/","exports = module.exports = require(\"./../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"html,\\nbody {\\n  width: 100%;\\n  height: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/less-loader!./src/js/bus/html/limitSound/style.less\n ** module id = 33\n ** module chunks = 8\n **/","\"use strict\";\n\n// 依赖\nconst limit = require('limit');\n\nclass DrawCanvas {\n\tprops = {\n\t\telement: null,\n\t\tradius: 200,\n\t\trotate: 0,\n\t\tarcColor: '#000'\n\t}\n\tstate = {}\n\tcanvas = null\n\telement = null\n\tcontext = null\n\tconstructor(config){\n\t\tlet me = this;\n\t\tlimit.assign(me.state, me.props, config);\n\t\tme.initElement();\n\t\tme.initCanvas();\n\t\tme.drawArc();\n\t}\n\tinitElement(){\n\t\tlet me = this;\n\t\tlet state = me.state;\n\t\tif( state.element ){\n\t\t\tme.element = state.element;\n\t\t}else{\n\t\t\tme.element = document.body;\n\t\t};\n\t}\n\tinitCanvas(){\n\t\tlet me = this;\n\t\tlet state = me.state;\n\t\tlet element = me.element;\n\t\tlet canvas = document.createElement('canvas');\n\t\tlet context = canvas.getContext('2d');\n\t\telement.appendChild(canvas);\n\t\tcanvas.width = element.clientWidth;\n\t\tcanvas.height = element.clientHeight;\n\t\tme.canvas = canvas;\n\t\tme.context = context;\n\t\tstate.centerX = canvas.width / 2;\n\t\tstate.centerY = canvas.height / 2;\n\t}\n\tdrawArc(){\n\t\tlet me = this;\n\t\tlet state = me.state;\n\t\tlet canvas = me.canvas;\n\t\tlet context = me.context;\n\t\tcontext.beginPath();\n\t\tcontext.arc( state.centerX, state.centerY, state.radius, 0,  me.getRadianByAngle(360) );\n\t\tcontext.closePath();\n\t\tcontext.strokeStyle = state.arcColor;\n\t\tcontext.stroke();\n\t}\n\tdrawLine(angle, range, color){\n\t\tlet me = this;\n\t\tlet state = me.state;\n\t\tlet context = me.context;\n\t\tcontext.beginPath();\n\t\tcontext.moveTo.apply(context, me.compute(angle + state.rotate, state.radius) );\n\t\tcontext.lineTo.apply(context, me.compute(angle + state.rotate, state.radius + range) );\n\t\tcontext.closePath();\n\t\tcontext.strokeStyle = color;\n\t\tcontext.stroke();\n\t}\n\tclearRect(){\n\t\tlet me = this;\n\t\tlet canvas = me.canvas;\n\t\tme.context.clearRect(0, 0, canvas.width, canvas.height);\n\t}\n\tdrawRect(){\n\t\t// ...\n\t}\n\tcompute(angle, radius){ // 通过角度，半径计算点\n\t\tlet me = this;\n\t\tlet state = me.state;\n\t\tlet x = Math.cos( me.getRadianByAngle(angle) ) * radius + state.centerX;\n\t\tlet y = Math.sin( me.getRadianByAngle(angle) ) * radius + state.centerY;\n\t\treturn [x, y];\n\t}\n\tgetRadianByAngle(angle){\n\t\treturn angle / 180 * Math.PI;\n\t}\n};\n\nmodule.exports = DrawCanvas;\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/bus/html/limitSound/drawCanvas.js\n **/","\"use strict\";\n\n// 依赖\nconst limit = require('limit');\n\nclass AudioBuffer {\n\tprops = {\n\t\telement: null,\n\t\tradius: 200,\n\t\turl: './music.mp3',\n\t\tonLoad: limit.K,\n\t\tonError: limit.K,\n\t\tonAnalyser: limit.K,\n\t\tonProgress: limit.K,\n\t\tcount: 720\n\t}\n\tstate = {}\n\tAC = null\n\taudioBuffer = null\n\tconstructor(config){\n\t\tlet me = this;\n\t\tlimit.assign(me.state, me.props, config);\n\t\tme.getAudioContext();\n\t\tme.getAudio().then((buffer) => {\n\t\t\treturn me.getRealBuffer(buffer);\n\t\t}).then((buffer) => {\n\t\t\tme.audioBuffer = buffer;\n\t\t\tme.bindAudioWithBuffer()\n\t\t});\n\t}\n\tgetAudio(){\n\t\tlet me = this;\n\t\tlet state = me.state;\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet AJAX = new XMLHttpRequest();\n\t\t\tAJAX.open('GET', state.url);\n\t\t\tAJAX.responseType = 'arraybuffer';\n\t\t\tAJAX.onprogress = (e) => {\n\t\t\t\tlet total = e.total || AJAX.getResponseHeader('Conent-Length');\n\t\t\t\tstate.onProgress( limit(e.loaded / total, e.timeStamp).toFixed(2).val() );\n\t\t\t};\n\t\t\tAJAX.onload = (e) => {\n\t\t\t\tresolve(e.target.response);\n\t\t\t\tstate.onLoad(e);\n\t\t\t};\n\t\t\tAJAX.onerror = (e) => {\n\t\t\t\treject(e);\n\t\t\t\tstate.onError(e);\n\t\t\t};\n\t\t\tAJAX.send(null);\n\t\t});\n\t}\n\tgetAudioContext(){\n\t\tlet me = this;\n\t\tlet AC = new window.AudioContext();\n\t\tme.AC = AC;\n\t}\n\tcreatAnalyser(){\n\t\tlet me = this;\n\t\tlet AC = me.AC;\n\t\tlet analyser = AC.createAnalyser();\n\t\tlet audioBufferSouceNode = AC.createBufferSource();\n\t\treturn {analyser, audioBufferSouceNode};\n\t}\n\tgetRealBuffer(buffer){\n\t\tlet me = this;\n\t\tlet AC = me.AC;\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tAC.decodeAudioData(buffer, resolve, reject);\n\t\t});\n\t}\n\tbindAudioWithBuffer(){\n\t\tlet me = this;\n\t\tlet CA = me.creatAnalyser();\n\t\tlet analyser = CA.analyser\n\t\tlet audioBufferSouceNode = CA.audioBufferSouceNode;\n\t\taudioBufferSouceNode.connect(analyser);\n\t\tanalyser.connect(me.AC.destination);\n\t\taudioBufferSouceNode.buffer = me.audioBuffer;\n\t\taudioBufferSouceNode.loop = true;\n\t\taudioBufferSouceNode.start();\n\t\tme.analyser(analyser);\n\t}\n\tanalyser(analyser){\n\t\tlet me = this;\n\t\tlet state = me.state;\n\t\tlet array = new Uint8Array(state.count || analyser.frequencyBinCount);\n\t    analyser.getByteFrequencyData(array);\n\t    state.onAnalyser(array);\n\t    requestAnimationFrame(me.analyser.bind(me, analyser));\n\t}\n};\n\nmodule.exports = AudioBuffer;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/bus/html/limitSound/audioBuffer.js\n **/"],"sourceRoot":""}