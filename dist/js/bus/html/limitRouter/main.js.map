{"version":3,"sources":["webpack:///webpack/bootstrap 0cfefec7c9d544cb6d1e?f956**************","webpack:///./src/js/bus/html/limitRouter/main.js","webpack:///./src/js/modules/router/index.js"],"names":["Router","require","router","a","param","console","log","window","WIN","$","Events","limit","REX_HASH","config","me","props","assignSuper","state","each","val","key","on","eventUid","getUid","bindHashChange","e","hashParse","parseHash","emit","hash","search","trigger","off","decodeURIComponent","location","hashMatch","match","parseString","arg","needHash","isFunction","unParseString","encodeURIComponent","toString","module","exports"],"mappings":"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","file":"js/bus/html/limitRouter/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0cfefec7c9d544cb6d1e\n **/","\"use strict\";\n\nconst Router = require('modules/router/index');\n\nlet router = new Router({\n\ta(param){\n\t\tconsole.log('aaa', param);\n\t}\n});\n\nwindow.router = router;\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/bus/html/limitRouter/main.js\n **/","\"use strict\";\n\nconst WIN = $(window);\nconst Events = limit.Events;\nconst REX_HASH = /^#([^?]*)(?:\\?(.*))?/;\n\nclass Router extends Events {\n\tprops = {}\n\tconstructor(config){\n\t\tlet me = super();\n\t\tlimit.assignSuper(me.state, me.props, config);\n\t\tlimit.each( config, (val, key) => me.on(key, val) );\n\t\tme.state.eventUid = `hashchange.router${limit.getUid()}`;\n\t\tme.bindHashChange();\n\t}\n\tbindHashChange(){\n\t\tlet me = this;\n\t\tlet {state} = me;\n\t\tWIN.on(state.eventUid, (e) => {\n\t\t\tlet hashParse = Router.parseHash();\n\t\t\tif( hashParse){\n\t\t\t\tme.emit( hashParse.hash, hashParse.search );\n\t\t\t};\n\t\t});\n\t\tWIN.trigger(state.eventUid);\n\t}\n\tdestroy(){\n\t\tlet me = this;\n\t\tlet {state} = me;\n\t\tWIN.off(state.eventUid);\n\t\tdelete me.state;\n\t\tdelete me.props;\n\t}\n\tstatic parseHash(){\n\t\tlet me = Router;\n\t\tlet hash = decodeURIComponent(location.hash);\n\t\tlet hashMatch = hash.match(REX_HASH);\n\t\tif(hashMatch){\n\t\t\tlet hash = hashMatch[1];\n\t\t\tlet search = limit.parseString(hashMatch[2]);\n\t\t\treturn {hash, search};\n\t\t};\n\t}\n\t// function obj\n\tstatic setSearch(arg, hash){\n\t\tlet me = Router;\n\t\tlet hashParse = me.parseHash();\n\t\tlet needHash;\n\t\tif( !hash ){\n\t\t\thash = hashParse.hash;\n\t\t};\n\t\tif( limit.isFunction(arg) ){\n\t\t\tneedHash = limit.unParseString( arg( hashParse.search ) );\n\t\t}else{\n\t\t\tneedHash = limit.unParseString( arg );\n\t\t};\n\t\tif( needHash ){\n\t\t\tneedHash = `${hash}?${needHash}`;\n\t\t}else{\n\t\t\tneedHash = `${hash}`;\n\t\t};\n\t\tlocation.hash = encodeURIComponent(needHash);\n\t\treturn me;\n\t}\n\t// function str\n\tstatic setHash(arg){\n\t\tlet me = Router;\n\t\tlet needHash;\n\t\tif( limit.isFunction(arg) ){\n\t\t\tlet hashParse = me.parseHash();\n\t\t\tneedHash = limit.toString( arg( hashParse.hash, hashParse.search ) );\n\t\t}else{\n\t\t\tneedHash = limit.toString( arg );\n\t\t};\n\t\tlocation.hash = encodeURIComponent(needHash);\n\t\treturn me;\n\t}\n};\n\nmodule.exports = Router;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/modules/router/index.js\n **/"],"sourceRoot":""}