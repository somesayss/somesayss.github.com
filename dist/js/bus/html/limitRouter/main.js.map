{"version":3,"sources":["webpack:///js/bus/html/limitRouter/main.js","webpack:///webpack/bootstrap 1789e28e6c5f1430f5f9?962a**************","webpack:///./src/js/bus/html/limitRouter/main.js","webpack:///./src/js/modules/router/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","0","121","Router","router","a","param","console","log","window","122","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","WIN","$","Events","limit","REX_HASH","_Events","config","_temp","_this","this","me","assignSuper","state","each","val","on","eventUid","getUid","bindHashChange","e","hashParse","parseHash","emit","hash","search","trigger","off","decodeURIComponent","location","hashMatch","match","parseString","arg","needHash","isFunction","unParseString","encodeURIComponent","toString"],"mappings":"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","file":"js/bus/html/limitRouter/main.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(121);\n\n\n/***/ },\n\n/***/ 121:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Router = __webpack_require__(122);\n\t\n\tvar router = new Router({\n\t\ta: function a(param) {\n\t\t\tconsole.log('aaa', param);\n\t\t}\n\t});\n\t\n\twindow.router = router;\n\n/***/ },\n\n/***/ 122:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar WIN = $(window);\n\tvar Events = limit.Events;\n\tvar REX_HASH = /^#([^?]*)(?:\\?(.*))?/;\n\t\n\tvar Router = function (_Events) {\n\t\t_inherits(Router, _Events);\n\t\n\t\tfunction Router(config) {\n\t\t\tvar _temp, _this;\n\t\n\t\t\t_classCallCheck(this, Router);\n\t\n\t\t\tvar me = (_temp = (_this = _possibleConstructorReturn(this, (Router.__proto__ || Object.getPrototypeOf(Router)).call(this)), _this), _this.props = {}, _temp);\n\t\t\tlimit.assignSuper(me.state, me.props, config);\n\t\t\tlimit.each(config, function (val, key) {\n\t\t\t\treturn me.on(key, val);\n\t\t\t});\n\t\t\tme.state.eventUid = \"hashchange.router\" + limit.getUid();\n\t\t\tme.bindHashChange();\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Router, [{\n\t\t\tkey: \"bindHashChange\",\n\t\t\tvalue: function bindHashChange() {\n\t\t\t\tvar me = this;\n\t\t\t\tvar state = me.state;\n\t\n\t\t\t\tWIN.on(state.eventUid, function (e) {\n\t\t\t\t\tvar hashParse = Router.parseHash();\n\t\t\t\t\tif (hashParse) {\n\t\t\t\t\t\tme.emit(hashParse.hash, hashParse.search);\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tWIN.trigger(state.eventUid);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"destroy\",\n\t\t\tvalue: function destroy() {\n\t\t\t\tvar me = this;\n\t\t\t\tvar state = me.state;\n\t\n\t\t\t\tWIN.off(state.eventUid);\n\t\t\t\tdelete me.state;\n\t\t\t\tdelete me.props;\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: \"parseHash\",\n\t\t\tvalue: function parseHash() {\n\t\t\t\tvar me = Router;\n\t\t\t\tvar hash = decodeURIComponent(location.hash);\n\t\t\t\tvar hashMatch = hash.match(REX_HASH);\n\t\t\t\tif (hashMatch) {\n\t\t\t\t\tvar _hash = hashMatch[1];\n\t\t\t\t\tvar search = limit.parseString(hashMatch[2]);\n\t\t\t\t\treturn { hash: _hash, search: search };\n\t\t\t\t};\n\t\t\t}\n\t\t\t// function obj\n\t\n\t\t}, {\n\t\t\tkey: \"setSearch\",\n\t\t\tvalue: function setSearch(arg, hash) {\n\t\t\t\tvar me = Router;\n\t\t\t\tvar hashParse = me.parseHash();\n\t\t\t\tvar needHash = void 0;\n\t\t\t\tif (!hash) {\n\t\t\t\t\thash = hashParse.hash;\n\t\t\t\t};\n\t\t\t\tif (limit.isFunction(arg)) {\n\t\t\t\t\tneedHash = limit.unParseString(arg(hashParse.search));\n\t\t\t\t} else {\n\t\t\t\t\tneedHash = limit.unParseString(arg);\n\t\t\t\t};\n\t\t\t\tif (needHash) {\n\t\t\t\t\tneedHash = hash + \"?\" + needHash;\n\t\t\t\t} else {\n\t\t\t\t\tneedHash = \"\" + hash;\n\t\t\t\t};\n\t\t\t\tlocation.hash = encodeURIComponent(needHash);\n\t\t\t\treturn me;\n\t\t\t}\n\t\t\t// function str\n\t\n\t\t}, {\n\t\t\tkey: \"setHash\",\n\t\t\tvalue: function setHash(arg) {\n\t\t\t\tvar me = Router;\n\t\t\t\tvar needHash = void 0;\n\t\t\t\tif (limit.isFunction(arg)) {\n\t\t\t\t\tvar hashParse = me.parseHash();\n\t\t\t\t\tneedHash = limit.toString(arg(hashParse.hash, hashParse.search));\n\t\t\t\t} else {\n\t\t\t\t\tneedHash = limit.toString(arg);\n\t\t\t\t};\n\t\t\t\tlocation.hash = encodeURIComponent(needHash);\n\t\t\t\treturn me;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Router;\n\t}(Events);\n\t\n\t;\n\t\n\tmodule.exports = Router;\n\n/***/ }\n\n/******/ });\n\n\n/** WEBPACK FOOTER **\n ** js/bus/html/limitRouter/main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1789e28e6c5f1430f5f9\n **/","\"use strict\";\n\nconst Router = require('modules/router/index');\n\nlet router = new Router({\n\ta(param){\n\t\tconsole.log('aaa', param);\n\t}\n});\n\nwindow.router = router;\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/bus/html/limitRouter/main.js\n **/","\"use strict\";\n\nconst WIN = $(window);\nconst Events = limit.Events;\nconst REX_HASH = /^#([^?]*)(?:\\?(.*))?/;\n\nclass Router extends Events {\n\tprops = {}\n\tconstructor(config){\n\t\tlet me = super();\n\t\tlimit.assignSuper(me.state, me.props, config);\n\t\tlimit.each( config, (val, key) => me.on(key, val) );\n\t\tme.state.eventUid = `hashchange.router${limit.getUid()}`;\n\t\tme.bindHashChange();\n\t}\n\tbindHashChange(){\n\t\tlet me = this;\n\t\tlet {state} = me;\n\t\tWIN.on(state.eventUid, (e) => {\n\t\t\tlet hashParse = Router.parseHash();\n\t\t\tif( hashParse){\n\t\t\t\tme.emit( hashParse.hash, hashParse.search );\n\t\t\t};\n\t\t});\n\t\tWIN.trigger(state.eventUid);\n\t}\n\tdestroy(){\n\t\tlet me = this;\n\t\tlet {state} = me;\n\t\tWIN.off(state.eventUid);\n\t\tdelete me.state;\n\t\tdelete me.props;\n\t}\n\tstatic parseHash(){\n\t\tlet me = Router;\n\t\tlet hash = decodeURIComponent(location.hash);\n\t\tlet hashMatch = hash.match(REX_HASH);\n\t\tif(hashMatch){\n\t\t\tlet hash = hashMatch[1];\n\t\t\tlet search = limit.parseString(hashMatch[2]);\n\t\t\treturn {hash, search};\n\t\t};\n\t}\n\t// function obj\n\tstatic setSearch(arg, hash){\n\t\tlet me = Router;\n\t\tlet hashParse = me.parseHash();\n\t\tlet needHash;\n\t\tif( !hash ){\n\t\t\thash = hashParse.hash;\n\t\t};\n\t\tif( limit.isFunction(arg) ){\n\t\t\tneedHash = limit.unParseString( arg( hashParse.search ) );\n\t\t}else{\n\t\t\tneedHash = limit.unParseString( arg );\n\t\t};\n\t\tif( needHash ){\n\t\t\tneedHash = `${hash}?${needHash}`;\n\t\t}else{\n\t\t\tneedHash = `${hash}`;\n\t\t};\n\t\tlocation.hash = encodeURIComponent(needHash);\n\t\treturn me;\n\t}\n\t// function str\n\tstatic setHash(arg){\n\t\tlet me = Router;\n\t\tlet needHash;\n\t\tif( limit.isFunction(arg) ){\n\t\t\tlet hashParse = me.parseHash();\n\t\t\tneedHash = limit.toString( arg( hashParse.hash, hashParse.search ) );\n\t\t}else{\n\t\t\tneedHash = limit.toString( arg );\n\t\t};\n\t\tlocation.hash = encodeURIComponent(needHash);\n\t\treturn me;\n\t}\n};\n\nmodule.exports = Router;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/modules/router/index.js\n **/"],"sourceRoot":""}